(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{196:function(e,t){},198:function(e,t){},211:function(e,t){},213:function(e,t){},241:function(e,t){},243:function(e,t){},244:function(e,t){},249:function(e,t){},251:function(e,t){},270:function(e,t){},282:function(e,t){},285:function(e,t){},324:function(e,t,a){},325:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(31),c=a.n(n),s=a(27),o=a(12),i=a(14),u=a(335),l=a(330),d=a(336),p=a(333),j=a(51),h=a(11),b=a(172),O=a.n(b);var f=function(){var e=localStorage.getItem("access");if(e){var t=!0;e=(e=e.replace('"',"")).replace('"',"");var a=O.a.decode(e,{complete:!0}),r=new Date;return 1e3*a.payload.exp<r.getTime()&&(t=!1,localStorage.setItem("isAuthenticated",JSON.stringify(t)),localStorage.removeItem("userInfo"),localStorage.removeItem("access"),localStorage.removeItem("refresh")),t}return!1},g=a(10),x=a.n(g),v=a(20),m="SIGNUP_REQUEST",y="SIGNUP_SUCCESS",S="SIGNUP_FAIL",w="ACTIVATION_REQUEST",I="ACTIVATION_SUCCESS",C="ACTIVATION_FAIL",k="LOGIN_REQUEST",A="LOGIN_SUCCESS",_="LOGIN_FAIL",E="LOGOUT",L="USER_LOAD_REQUEST",N="USER_LOAD_SUCCESS",T="USER_LOAD_FAIL",R="PASSWORD_RESET_REQUEST",U="PASSWORD_RESET_SUCCESS",P="PASSWORD_RESET_FAIL",G="PASSWORD_RESET_CONFIRM_REQUEST",F="PASSWORD_RESET_CONFIRM_SUCCESS",J="PASSWORD_RESET_CONFIRM_FAIL",D="GOOGLE_AUTH_REQUEST",q="GOOGLE_AUTH_SUCCESS",Q="GOOGLE_AUTH_FAIL",W="FACEBOOK_AUTH_REQUEST",H="FACEBOOK_AUTH_SUCCESS",B="FACEBOOK_AUTH_FAIL",z=a(21),M=a.n(z),K=function(){return function(){var e=Object(v.a)(x.a.mark((function e(t){var a,r,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("access"))){e.next=20;break}return a=(a=a.replace('"',"")).replace('"',""),t({type:L}),r={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(a)}},e.prev=6,e.next=9,M.a.get("/api/auth/users/me/",r);case 9:n=e.sent,c=n.data,t({type:N,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),t({type:T,payload:e.t0.response.statusText&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.response.statusText});case 18:e.next=21;break;case 20:t({type:T});case 21:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}()},V=a(173),Y=a.n(V),X=a(1);var Z=function(){var e=Object(h.b)(),t=Object(r.useState)(!1),a=Object(i.a)(t,2),n=a[0],c=a[1],s=localStorage.getItem("isAuthenticated"),b=Object(h.c)((function(e){return e.userInfo})).user,O=Object(o.l)(),g=Y.a.parse(O.search),m=g.state?g.state:null,y=g.code?g.code:null,S=g.scope?String(g.scope):null,w=!1,I=!1;return null!==S?w=!0:I=!0,Object(r.useEffect)((function(){m&&y&&w?e(function(e,t){return function(){var a=Object(v.a)(x.a.mark((function a(r){var n,c,s,o,i;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t||localStorage.getItem("access")){a.next=20;break}return n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c={state:e,code:t},s=Object.keys(c).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(c[e])})).join("&"),a.prev=4,r({type:D}),a.next=8,M.a.post("/api/auth/o/google-oauth2/?".concat(s),n);case 8:o=a.sent,i=o.data,localStorage.setItem("access",JSON.stringify(i.access)),localStorage.setItem("refresh",JSON.stringify(i.refresh)),localStorage.setItem("isAuthenticated",JSON.stringify(!0)),r({type:q,payload:i}),r(K()),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(4),r({type:Q,payload:a.t0.response});case 20:case"end":return a.stop()}}),a,null,[[4,17]])})));return function(e){return a.apply(this,arguments)}}()}(m,y)):m&&y&&I?e(function(e,t){return function(){var a=Object(v.a)(x.a.mark((function a(r){var n,c,s,o,i;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t||localStorage.getItem("access")){a.next=20;break}return n={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c={state:e,code:t},s=Object.keys(c).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(c[e])})).join("&"),a.prev=4,r({type:W}),a.next=8,M.a.post("/api/auth/o/facebook/?".concat(s),n);case 8:o=a.sent,i=o.data,localStorage.setItem("access",JSON.stringify(i.access)),localStorage.setItem("refresh",JSON.stringify(i.refresh)),localStorage.setItem("isAuthenticated",JSON.stringify(!0)),r({type:H,payload:i}),r(K()),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(4),r({type:B,payload:a.t0.response});case 20:case"end":return a.stop()}}),a,null,[[4,17]])})));return function(e){return a.apply(this,arguments)}}()}(m,y)):f()})),Object(X.jsxs)(r.Fragment,{children:[Object(X.jsx)("header",{children:Object(X.jsx)(u.a,{bg:"dark",variant:"dark",expand:"md",collapseOnSelect:!0,children:Object(X.jsxs)(l.a,{children:[Object(X.jsx)(j.LinkContainer,{to:"/",children:Object(X.jsx)(u.a.Brand,{children:"Authentication"})}),Object(X.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(X.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(X.jsx)(d.a,{children:Object(X.jsx)(j.LinkContainer,{to:"/",children:Object(X.jsx)(d.a.Link,{className:"text-center",children:"Home"})})}),Object(X.jsx)(d.a,{className:"ml-auto",children:s&&b?Object(X.jsxs)(r.Fragment,{children:[Object(X.jsx)(p.a,{title:b.first_name,id:"username",children:Object(X.jsx)(j.LinkContainer,{to:"/profile",children:Object(X.jsxs)(p.a.Item,{children:[Object(X.jsx)("i",{className:"far fa-id-card"})," Profile"]})})}),Object(X.jsxs)(d.a.Link,{onClick:function(){e((function(e){localStorage.removeItem("access"),localStorage.removeItem("refresh"),localStorage.removeItem("userInfo"),localStorage.removeItem("isAuthenticated"),e({type:E})})),c(!0)},children:[Object(X.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})]}):Object(X.jsxs)(r.Fragment,{children:[Object(X.jsx)(j.LinkContainer,{to:"/login",children:Object(X.jsxs)(d.a.Link,{className:"text-center",children:[Object(X.jsx)("i",{className:"fas fa-user"})," Login"]})}),Object(X.jsx)(j.LinkContainer,{to:"/signup",children:Object(X.jsxs)(d.a.Link,{className:"text-center",children:[Object(X.jsx)("i",{className:"fas fa-user-plus"})," Sign Up"]})})]})})]})]})})}),n?Object(X.jsx)(o.c,{to:"/"}):Object(X.jsx)(r.Fragment,{})]})},$=a(331),ee=a(177);var te=function(){return Object(X.jsx)("footer",{children:Object(X.jsx)(l.a,{children:Object(X.jsx)($.a,{children:Object(X.jsxs)(ee.a,{className:"text-center py-3",children:["Copyright ",Object(X.jsx)("i",{className:"fas fa-copyright"})," Nitesh Ramola"]})})})})},ae=a(337);var re=function(e){var t=e.variant,a=e.children;return Object(X.jsx)(ae.a,{variant:t,children:a})};var ne=function(){var e=localStorage.getItem("isAuthenticated"),t=Object(h.c)((function(e){return e.userInfo})).user;return Object(r.useEffect)((function(){}),[]),Object(X.jsx)("div",{children:e?Object(X.jsxs)(re,{variant:"success",children:["Logged In as ",t.first_name]}):Object(X.jsx)(re,{variant:"danger",children:"You are not logged In"})})},ce=a(334),se=a(176),oe=a(332);var ie=function(){return Object(X.jsx)(oe.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(X.jsx)("span",{className:"sr-only",children:"Loading..."})})};var ue=function(e){var t=e.children;return Object(X.jsx)(l.a,{children:Object(X.jsx)($.a,{className:"justify-content-md-center",children:Object(X.jsx)(ee.a,{xs:12,md:6,children:t})})})};var le=function(e){e.match;var t=e.history,a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1],u=Object(r.useState)(""),l=Object(i.a)(u,2),d=l[0],p=l[1],j=Object(h.b)(),b=Object(h.c)((function(e){return e.userLogin})),O=b.loading,f=b.error,g=b.isAuthenticated;Object(r.useEffect)((function(){g&&t.push("/")}),[t,g]);var m=function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("/api/auth/o/google-oauth2/?redirect_uri=http://localhost:3000/");case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("/api/auth/o/facebook/?redirect_uri=http://localhost:3000/");case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(X.jsxs)(ue,{children:[Object(X.jsx)("br",{}),Object(X.jsx)("h1",{children:"Login"}),Object(X.jsx)("p",{children:"Login to your account"}),f&&Object(X.jsx)(re,{variant:"danger",children:f}),Object(X.jsxs)(ce.a,{onSubmit:function(e){e.preventDefault(),j(function(e,t){return function(){var a=Object(v.a)(x.a.mark((function a(r){var n,c,s;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:k}),n={headers:{"Content-type":"application/json"}},a.next=5,M.a.post("/api/auth/jwt/create/",{email:e,password:t},n);case 5:c=a.sent,s=c.data,localStorage.setItem("access",JSON.stringify(s.access)),localStorage.setItem("refresh",JSON.stringify(s.refresh)),localStorage.setItem("isAuthenticated",JSON.stringify(!0)),r({type:A,payload:s}),r(K()),a.next=19;break;case 14:a.prev=14,a.t0=a.catch(0),r({type:_,payload:a.t0.response.statusText&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.response.statusText}),localStorage.removeItem("access"),localStorage.removeItem("refresh");case 19:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()}(c,d))},children:[Object(X.jsxs)(ce.a.Group,{controlId:"email",children:[Object(X.jsx)(ce.a.Label,{children:"Email"}),Object(X.jsx)(ce.a.Control,{type:"email",required:!0,placeholder:"Enter Email",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(X.jsxs)(ce.a.Group,{controlId:"password",children:[Object(X.jsx)(ce.a.Label,{children:"Password"}),Object(X.jsx)(ce.a.Control,{type:"password",required:!0,placeholder:"Enter Password",value:d,onChange:function(e){return p(e.target.value)}})]}),O?Object(X.jsx)(ie,{}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(se.a,{type:"submit",variant:"primary",children:"Login"}),Object(X.jsx)("h3",{className:"text-center",children:"Or"}),Object(X.jsxs)(se.a,{type:"button",variant:"outline-danger",onClick:m,children:[Object(X.jsx)("i",{className:"fab fa-google"})," Continue with Google"]}),Object(X.jsxs)(se.a,{type:"button",variant:"outline-info",onClick:y,children:[Object(X.jsx)("i",{className:"fab fa-facebook-f"})," Continue with Facebook"]}),Object(X.jsxs)("p",{className:"pt-2",children:["Forgot your password?"," ",Object(X.jsx)(s.Link,{to:"/reset-password",children:"Reset Password"})]}),Object(X.jsxs)("p",{children:["Don't have an account?"," ",Object(X.jsx)(s.Link,{className:"pt-2 ml-auto",to:"/signup",children:"Sign Up"})]})]})]})]})};var de=function(e){var t=e.history,a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1],u=Object(r.useState)(""),l=Object(i.a)(u,2),d=l[0],p=l[1],j=Object(r.useState)(""),b=Object(i.a)(j,2),O=b[0],f=b[1],g=Object(r.useState)(""),w=Object(i.a)(g,2),I=w[0],C=w[1],k=Object(r.useState)(""),A=Object(i.a)(k,2),_=A[0],E=A[1],L=Object(r.useState)(""),N=Object(i.a)(L,2),T=N[0],R=N[1],U=Object(r.useState)(""),P=Object(i.a)(U,2),G=P[0],F=P[1],J=Object(h.b)(),D=Object(h.c)((function(e){return e.userSignUp})),q=D.loading,Q=D.error,W=D.created,H=Object(h.c)((function(e){return e.userLogin})).isAuthenticated;Object(r.useEffect)((function(){H&&t.push("/"),W&&(F("Your account is successfully created, check your mail to activate your account"),o(""),p(""),f(""),C(""),E(""))}),[t,H,W]);var B=function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("/api/auth/o/google-oauth2/?redirect_uri=http://localhost:3000/");case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("/api/auth/o/facebook/?redirect_uri=http://localhost:3000/");case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(X.jsxs)(ue,{children:[Object(X.jsx)("br",{}),Object(X.jsx)("h1",{children:"Sign Up"}),Object(X.jsx)("p",{children:"Create your Account"}),T&&Object(X.jsx)(re,{variant:"danger",children:T}),G&&Object(X.jsx)(re,{variant:"success",children:G}),Q&&Object(X.jsx)(re,{variant:"danger",children:Q}),Object(X.jsxs)(ce.a,{onSubmit:function(e){e.preventDefault(),I===_?(R(""),J(function(e,t,a,r,n){return function(){var c=Object(v.a)(x.a.mark((function c(s){var o,i,u;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s({type:m}),o={headers:{"Content-type":"application/json"}},c.next=5,M.a.post("/api/auth/users/",{first_name:e,last_name:t,email:a,password:r,re_password:n},o);case 5:i=c.sent,u=i.data,s({type:y,payload:u}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),s({type:S,payload:c.t0.response.data.email?c.t0.response.data.email:c.t0.response.data.password?c.t0.response.data.password:c.t0.response.statusText});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(c,d,O,I,_))):R("Password don't match")},children:[Object(X.jsxs)(ce.a.Group,{controlId:"first_name",children:[Object(X.jsx)(ce.a.Label,{children:"First Name"}),Object(X.jsx)(ce.a.Control,{type:"text",required:!0,placeholder:"Enter First Name",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(X.jsxs)(ce.a.Group,{controlId:"last_name",children:[Object(X.jsx)(ce.a.Label,{children:"Last Name"}),Object(X.jsx)(ce.a.Control,{type:"text",required:!0,placeholder:"Enter Last Name",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(X.jsxs)(ce.a.Group,{controlId:"email",children:[Object(X.jsx)(ce.a.Label,{children:"Email"}),Object(X.jsx)(ce.a.Control,{type:"email",required:!0,placeholder:"Enter Email",value:O,onChange:function(e){return f(e.target.value)}})]}),Object(X.jsxs)(ce.a.Group,{controlId:"password",children:[Object(X.jsx)(ce.a.Label,{children:"Password"}),Object(X.jsx)(ce.a.Control,{type:"password",required:!0,minLength:8,placeholder:"Enter Password",value:I,onChange:function(e){return C(e.target.value)}})]}),Object(X.jsxs)(ce.a.Group,{controlId:"re_password",children:[Object(X.jsx)(ce.a.Label,{children:"Password"}),Object(X.jsx)(ce.a.Control,{type:"password",required:!0,placeholder:"Confirm Password",value:_,onChange:function(e){return E(e.target.value)}})]}),q?Object(X.jsx)(ie,{}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(se.a,{type:"submit",variant:"primary",children:"Sign Up"}),Object(X.jsx)("h3",{className:"text-center",children:"Or"}),Object(X.jsxs)(se.a,{type:"button",variant:"outline-danger",onClick:B,children:[Object(X.jsx)("i",{className:"fab fa-google"})," Continue with Google"]}),Object(X.jsxs)(se.a,{type:"button",variant:"outline-info",onClick:z,children:[Object(X.jsx)("i",{className:"fab fa-facebook-f"})," Continue with Facebook"]})]}),Object(X.jsxs)("p",{className:"text-center pt-2",children:["Already have an account? ",Object(X.jsx)(s.Link,{to:"/login",children:"Login"})]})]})]})};var pe=function(e){var t=e.history,a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1],u=Object(r.useState)(""),l=Object(i.a)(u,2),d=l[0],p=l[1],j=Object(h.b)(),b=Object(h.c)((function(e){return e.resetPassword})),O=b.loading,f=b.error,g=b.reset,m=Object(h.c)((function(e){return e.userLogin})).isAuthenticated;return Object(r.useEffect)((function(){m&&t.push("/"),g&&(p("Reset Link sent successfully to your mail"),o(""))}),[t,m,g]),Object(X.jsxs)(ue,{children:[Object(X.jsx)("br",{}),Object(X.jsx)("h1",{children:"Reset Password"}),Object(X.jsx)("p",{children:"Reset password of your account"}),d&&Object(X.jsx)(re,{variant:"success",children:d}),f&&Object(X.jsx)(re,{variant:"danger",children:f}),Object(X.jsxs)(ce.a,{onSubmit:function(e){e.preventDefault(),j(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(a){var r,n,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:R}),r={headers:{"Content-type":"application/json"}},t.next=5,M.a.post("/api/auth/users/reset_password/",{email:e},r);case 5:n=t.sent,c=n.data,a({type:U,payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:P,payload:t.t0.response.statusText&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.response.statusText});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(c)),p("")},children:[Object(X.jsxs)(ce.a.Group,{controlId:"email",children:[Object(X.jsx)(ce.a.Label,{children:"Email"}),Object(X.jsx)(ce.a.Control,{type:"email",required:!0,placeholder:"Enter Email",value:c,onChange:function(e){return o(e.target.value)}})]}),O?Object(X.jsx)(ie,{}):Object(X.jsx)(se.a,{type:"submit",variant:"primary",children:"Get Link"}),Object(X.jsxs)("p",{className:"pt-2 ml-auto",children:["Remember your password ? ",Object(X.jsx)(s.Link,{to:"/login",children:"Login"})]})]})]})};var je=function(e){var t=e.match,a=e.history,n=Object(r.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1],u=Object(r.useState)(""),l=Object(i.a)(u,2),d=l[0],p=l[1],j=Object(r.useState)(""),b=Object(i.a)(j,2),O=b[0],f=b[1],g=t.params.uid,m=t.params.token,y=Object(h.b)(),S=Object(h.c)((function(e){return e.resetPasswordConfirm})),w=S.loading,I=S.error,C=S.resetConfirm,k=Object(h.c)((function(e){return e.userLogin})).isAuthenticated;return Object(r.useEffect)((function(){k&&a.push("/"),C&&a.push("/login")}),[a,k,C]),Object(X.jsxs)(ue,{children:[Object(X.jsx)("br",{}),Object(X.jsx)("h1",{children:"Set new password"}),Object(X.jsx)("p",{children:"Set new password for your account"}),O&&Object(X.jsx)(re,{variant:"danger",children:O}),I&&Object(X.jsx)(re,{variant:"danger",children:I}),Object(X.jsxs)(ce.a,{onSubmit:function(e){e.preventDefault(),s!==d?f("Password don't match"):(f(""),y(function(e,t,a,r){return function(){var n=Object(v.a)(x.a.mark((function n(c){var s,o,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:G}),s={headers:{"Content-type":"application/json"}},n.next=5,M.a.post("/api/auth/users/reset_password_confirm/",{uid:e,token:t,new_password:a,re_new_password:r},s);case 5:o=n.sent,i=o.data,c({type:F,payload:i}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),c({type:J,payload:n.t0.response.data.new_password?n.t0.response.data.new_password:n.t0.response.data.token?n.t0.response.data.token:n.t0.response.data.uid?n.t0.response.data.uid:n.t0.response.statusText});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(g,m,s,d)))},children:[Object(X.jsxs)(ce.a.Group,{controlId:"new_password",children:[Object(X.jsx)(ce.a.Label,{children:"New Password"}),Object(X.jsx)(ce.a.Control,{type:"password",required:!0,minLength:8,placeholder:"Enter Password",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(X.jsxs)(ce.a.Group,{controlId:"re_new_password",children:[Object(X.jsx)(ce.a.Label,{children:"Confirm New Password"}),Object(X.jsx)(ce.a.Control,{type:"password",required:!0,placeholder:"Re-enter new password",value:d,onChange:function(e){return p(e.target.value)}})]}),w?Object(X.jsx)(ie,{}):Object(X.jsx)(se.a,{type:"submit",variant:"primary",children:"Confirm"})]})]})};var he=function(e){var t=e.match,a=e.history,n=t.params.uid,c=t.params.token,s=Object(h.b)(),o=Object(h.c)((function(e){return e.userActivation})),i=o.loading,u=o.error,l=o.activated,d=Object(h.c)((function(e){return e.userLogin})).isAuthenticated;return Object(r.useEffect)((function(){d&&a.push("/"),l&&a.push("/login")}),[a,d,l]),Object(X.jsxs)(ue,{children:[Object(X.jsx)("br",{}),Object(X.jsx)("h1",{children:"Activation"}),Object(X.jsx)("p",{children:"Activate your account"}),i&&Object(X.jsx)(ie,{}),u&&Object(X.jsx)(re,{variant:"danger",children:u}),Object(X.jsx)(ce.a,{onSubmit:function(e){e.preventDefault(),s(function(e,t){return function(){var a=Object(v.a)(x.a.mark((function a(r){var n,c,s;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:w}),n={headers:{"Content-type":"application/json"}},a.next=5,M.a.post("/api/auth/users/activation/",{uid:e,token:t},n);case 5:c=a.sent,s=c.data,r({type:I,payload:s}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:C,payload:a.t0.response.data.detail?a.t0.response.data.detail:a.t0.response.data.token?a.t0.response.data.token:a.t0.response.data.uid?a.t0.response.data.uid:a.t0.response.statusText});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(n,c))},children:Object(X.jsx)(se.a,{type:"submit",variant:"primary",children:"Activate Account"})})]})};var be=function(){return Object(X.jsxs)(s.BrowserRouter,{children:[Object(X.jsx)(Z,{}),Object(X.jsxs)(o.g,{children:[Object(X.jsx)(o.d,{exact:!0,path:"/",component:ne}),Object(X.jsx)(o.d,{path:"/login",component:le}),Object(X.jsx)(o.d,{path:"/signup",component:de}),Object(X.jsx)(o.d,{path:"/reset-password",component:pe}),Object(X.jsx)(o.d,{path:"/password/reset/confirm/:uid/:token",component:je}),Object(X.jsx)(o.d,{path:"/activate/:uid/:token",component:he})]}),Object(X.jsx)(te,{})]})},Oe=(a(324),a(62)),fe=a(178),ge=a(179),xe=Object(Oe.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{access:"",refresh:"",isAuthenticated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case A:return{loading:!1,access:t.payload.access,refresh:t.payload.refresh,isAuthenticated:!0};case _:return{loading:!1,error:t.payload};case E:return{};default:return e}},userSignUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case y:return{loading:!1,created:!0};case S:return{loading:!1,error:t.payload};default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case N:return{loading:!1,user:t.payload};case T:return{loading:!1,error:t.payload};case E:return{};default:return e}},resetPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reset:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case U:return{loading:!1,reset:!0};case P:return{loading:!1,error:t.payload};default:return e}},resetPasswordConfirm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{resetConfirm:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return{loading:!0};case F:return{loading:!1,resetConfirm:!0};case J:return{loading:!1,error:t.payload};default:return e}},userActivation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0};case I:return{loading:!1,activated:!0};case C:return{loading:!1,error:t.payload};default:return e}},googleAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{access:"",refresh:"",isAuthenticated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case q:return{loading:!1,access:t.payload.access,refresh:t.payload.refresh,isAuthenticated:!0};case Q:return{loading:!1,error:t.payload};default:return e}},facebookAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{access:"",refresh:"",isAuthenticated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{loading:!0};case H:return{loading:!1,access:t.payload.access,refresh:t.payload.refresh,isAuthenticated:!0};case B:return{loading:!1,error:t.payload};default:return e}}}),ve=localStorage.getItem("access")?JSON.parse(localStorage.getItem("access")):"",me=localStorage.getItem("refresh")?JSON.parse(localStorage.getItem("refresh")):"",ye=localStorage.getItem("isAuthenticated")?JSON.parse(localStorage.getItem("isAuthenticated")):"",Se={userLogin:{refresh:me,access:ve,isAuthenticated:ye},googleAuth:{refresh:me,access:ve,isAuthenticated:ye},facebookAuth:{refresh:me,access:ve,isAuthenticated:ye},userInfo:{user:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):{}}},we=[fe.a],Ie=Object(Oe.createStore)(xe,Se,Object(ge.composeWithDevTools)(Oe.applyMiddleware.apply(void 0,we)));c.a.render(Object(X.jsx)(h.a,{store:Ie,children:Object(X.jsx)(be,{})}),document.getElementById("root"))}},[[325,1,2]]]);
//# sourceMappingURL=main.b02d860f.chunk.js.map